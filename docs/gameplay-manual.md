# Number Hunter 遊び方マニュアル

## 1. 準備するもの
- パソコンまたはタブレット（推奨解像度 1280×720 以上）
- Node.js 18.x 以上と npm 10.x 以上（開発ビルドで遊ぶ場合）
- サウンドを再生できるスピーカーまたはイヤホン（効果音推奨）

## 2. 起動手順
1. リポジトリを取得し、`app/` ディレクトリに移動します。
2. 依存関係をインストールします。
   ```bash
   npm install
   ```
3. 開発サーバーを起動します。
   ```bash
   npm run dev
   ```
4. ブラウザで `http://localhost:5173` を開き、ゲーム画面が表示されることを確認します。

## 3. 画面の見かた
- **マップエリア（左）**: 3×5 の部屋に隠れた住人（数字）が待機しています。クリアした部屋は赤く変化します。
- **HUD（右）**:
  - 現在のステップ（A: いくつといくつ / B: くり上がり・くり下がりなし / C: 文章題）と達成状況が表示されます。
  - フェーズバナーが今の状態（待機 / 移動中 / 出題中 など）を案内します。
  - 直近の正解・不正解がカードでフィードバックされます。

## 4. 基本的な遊び方
1. 気になる部屋（セル）をクリックすると、怪物がその部屋へ移動します。
2. 怪物が到着すると問題パネルが表示され、制限時間内にクイズへ回答します。
3. 正解すると部屋が赤く染まり、捕まえた住人の数が HUD に記録されます。
4. 不正解だった場合はフィードバックが表示され、同じ部屋に再挑戦できます。
5. 全ての部屋を赤く染めるとステージクリアです。

## 5. 問題のタイプと解き方
- **いくつといくつ（ステップA）**: おはじきトークンを左右にドラッグし、右側の数を答えます。
- **加算・減算（ステップB）**: 数直線やテンフレームをヒントに、テンキーで答えを入力します。
- **文章題（ステップC）**: 物語のイラストを読み取り、状況を式に変換して答えを入力します。

## 6. 音と演出
- 正解時は悲鳴 SE が再生され、怪物が捕食アニメーションを行います。
- 不正解時は怪物が怯む演出と励ましメッセージが表示されます。
- 音量が大きい場合はブラウザや OS の設定で調整してください。

## 7. 学習を深めるためのヒント
- HUD に表示されるステップの達成率を見て、苦手な部屋を優先的に攻略しましょう。
- 不正解が続くときはヒント文を読み、図やトークンを操作して考え方を整理します。
- 保護者と一緒にプレイする場合は、解き方を言葉で説明して理解度を高めるのがおすすめです。

## 8. よくある質問
- **Q. 効果音が鳴らない**: ブラウザの自動再生制限が原因のことがあります。ゲーム開始前に画面をクリックしてから問題を解いてください。
- **Q. 怪物が動かない**: 既に解いた部屋（赤色）をクリックしている可能性があります。別の部屋を選択してください。
- **Q. 画面が重い**: 他のタブやアプリが CPU を消費している場合があります。不要なアプリを閉じてから再試行してください。

---
ゲームは引き続き開発中です。タイマーや段階的ヒントの高度化など、今後のアップデートに備えてフィードバックをお寄せください。